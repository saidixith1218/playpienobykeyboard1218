<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Touch Piano</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #0b1c3d;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }

    /* Gold stars */
    body::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background-image:
            radial-gradient(gold 1px, transparent 1px),
            radial-gradient(gold 1px, transparent 1px);
        background-size: 60px 60px;
        background-position: 0 0, 30px 30px;
        opacity: 0.5;
    }

    .piano {
        position: relative;
        display: flex;
        z-index: 1;
    }

    .white-key {
        width: 50px;
        height: 220px;
        background: white;
        border: 1px solid #000;
        box-sizing: border-box;
        cursor: pointer;
        position: relative;
    }

    .white-key:active {
        background: #ddd;
    }

    .white-key::after {
        content: attr(data-key);
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 14px;
        color: black;
        font-weight: bold;
    }

    .black-key {
        width: 30px;
        height: 140px;
        background: black;
        position: absolute;
        top: 0;
        right: -15px;
        z-index: 2;
        cursor: pointer;
    }

    .black-key:active {
        background: #444;
    }

    .black-key::after {
        content: attr(data-key);
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        color: white;
        font-weight: bold;
    }
</style>
</head>
<body>

<div class="piano">
    <!-- White keys with black keys -->
    <div class="white-key" data-note="261.63" data-key="q">
        <div class="black-key" data-note="277.18" data-key="2"></div>
    </div>
    <div class="white-key" data-note="293.66" data-key="w">
        <div class="black-key" data-note="311.13" data-key="3"></div>
    </div>
    <div class="white-key" data-note="329.63" data-key="e"></div>
    <div class="white-key" data-note="349.23" data-key="r">
        <div class="black-key" data-note="369.99" data-key="5"></div>
    </div>
    <div class="white-key" data-note="392.00" data-key="t">
        <div class="black-key" data-note="415.30" data-key="6"></div>
    </div>
    <div class="white-key" data-note="440.00" data-key="y">
        <div class="black-key" data-note="466.16" data-key="7"></div>
    </div>
    <div class="white-key" data-note="493.88" data-key="u"></div>

    <!-- Second octave -->
    <div class="white-key" data-note="523.25" data-key="i">
        <div class="black-key" data-note="554.37" data-key="9"></div>
    </div>
    <div class="white-key" data-note="587.33" data-key="o">
        <div class="black-key" data-note="622.25" data-key="0"></div>
    </div>
    <div class="white-key" data-note="659.25" data-key="p"></div>
    <div class="white-key" data-note="698.46" data-key="[">
        <div class="black-key" data-note="739.99" data-key="a"></div>
    </div>
    <div class="white-key" data-note="783.99" data-key="z">
        <div class="black-key" data-note="830.61" data-key="s"></div>
    </div>
    <div class="white-key" data-note="880.00" data-key="x">
        <div class="black-key" data-note="932.33" data-key="d"></div>
    </div>
    <div class="white-key" data-note="987.77" data-key="c"></div>
</div>

<script>
    const AudioContext = window.AudioContext || window.webkitAudioContext;
    const audioCtx = new AudioContext();

    // Map keys to frequencies or sound URLs
    const sounds = {
        'q': 261.63, // C4
        '2': 277.18, // C#4
        'w': 293.66, // D4
        '3': 311.13, // D#4
        'e': 329.63, // E4
        'r': 349.23, // F4
        '5': 369.99, // F#4
        't': 392.00, // G4
        '6': 415.30, // G#4
        'y': 440.00, // A4
        '7': 466.16, // A#4
        'u': 493.88, // B4
        'i': 523.25, // C5
        '9': 554.37, // C#5
        'o': 587.33, // D5
        '0': 622.25, // D#5
        'p': 659.25, // E5
        '[': 698.46, // F5
        'a': 739.99, // F#5
        'z': 783.99, // G5
        's': 830.61, // G#5
        'x': 880.00, // A5
        'd': 932.33, // A#5
        'c': 'https://www.soundjay.com/animal/cow-moo-01.wav' // Animal sound for 'c' key
    };

    function playNote(key) {
        const sound = sounds[key];
        if (typeof sound === 'number') {
            // Play synthesized note
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();

            osc.type = "sine";
            osc.frequency.value = sound;

            osc.connect(gain);
            gain.connect(audioCtx.destination);

            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 1);

            osc.start();
            osc.stop(audioCtx.currentTime + 1);
        } else if (typeof sound === 'string') {
            // Play animal sound
            const audio = new Audio(sound);
            audio.play();
        }
    }

    document.querySelectorAll(".white-key, .black-key").forEach(key => {
        key.addEventListener("mousedown", e => {
            e.stopPropagation();
            playNote(key.dataset.key);
        });

        key.addEventListener("touchstart", e => {
            e.preventDefault();
            playNote(key.dataset.key);
        });
    });

    // Keyboard support
    document.addEventListener('keydown', function(event) {
        const key = event.key.toLowerCase();
        if (sounds[key] !== undefined) {
            playNote(key);
        }
    });
</script>

</body>
</html>
